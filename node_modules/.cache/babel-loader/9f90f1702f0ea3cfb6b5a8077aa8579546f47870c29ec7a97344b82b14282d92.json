{"ast":null,"code":"// src/components/AuthForm.jsx\nimport React,{useState}from'react';import api from'../api';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const AuthForm=_ref=>{let{isLogin}=_ref;const[formData,setFormData]=useState({name:'',email:'',otp:'',qualification:'',role:'student',// or employer\ncompany:''});const[otpSent,setOtpSent]=useState(false);const[message,setMessage]=useState('');const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const sendOtp=async()=>{try{await api.post('/send-otp',{email:formData.email});setOtpSent(true);setMessage(\"OTP sent to your email.\");}catch(err){console.error(err);setMessage(\"Failed to send OTP.\");}};const handleSubmit=async e=>{e.preventDefault();try{if(isLogin){// LOGIN\nconst res=await api.post('/login',{email:formData.email,otp:formData.otp});setMessage(res.data.message||\"Login successful\");}else{// SIGNUP\nconst res=await api.post('/signup',{name:formData.name,email:formData.email,otp:formData.otp,qualification:formData.qualification,role:formData.role,company:formData.company});setMessage(res.data.message||\"Signup successful\");}}catch(err){var _err$response,_err$response$data;console.error(err);setMessage(\"Error: \"+(err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Something went wrong\");}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"bg-white p-6 rounded shadow-md space-y-4 w-full max-w-md mx-auto\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold\",children:[isLogin?\"Login\":\"Signup\",\" Form\"]}),!isLogin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Full Name\",onChange:handleChange,required:true,className:\"w-full border p-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"qualification\",placeholder:\"Qualification\",onChange:handleChange,className:\"w-full border p-2\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",onChange:handleChange,className:\"w-full border p-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"option\",{value:\"employer\",children:\"Employer\"})]}),formData.role===\"employer\"&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"company\",placeholder:\"Company Name\",onChange:handleChange,className:\"w-full border p-2\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",onChange:handleChange,required:true,className:\"w-full border p-2\"}),!otpSent?/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:sendOtp,className:\"bg-blue-500 text-white py-2 px-4 rounded w-full\",children:\"Send OTP\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"otp\",placeholder:\"Enter OTP\",onChange:handleChange,required:true,className:\"w-full border p-2\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-600 text-white py-2 px-4 rounded w-full\",children:isLogin?\"Login\":\"Signup\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-center text-gray-700 mt-2\",children:message})]});};export default AuthForm;","map":{"version":3,"names":["React","useState","api","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","AuthForm","_ref","isLogin","formData","setFormData","name","email","otp","qualification","role","company","otpSent","setOtpSent","message","setMessage","handleChange","e","value","target","prev","sendOtp","post","err","console","error","handleSubmit","preventDefault","res","data","_err$response","_err$response$data","response","onSubmit","className","children","type","placeholder","onChange","required","onClick"],"sources":["C:/Users/dell/Desktop/hirezon/project/client/src/components/AuthForm.jsx"],"sourcesContent":["// src/components/AuthForm.jsx\r\nimport React, { useState } from 'react';\r\nimport api from '../api';\r\n\r\nconst AuthForm = ({ isLogin }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    otp: '',\r\n    qualification: '',\r\n    role: 'student', // or employer\r\n    company: ''\r\n  });\r\n\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const sendOtp = async () => {\r\n    try {\r\n      await api.post('/send-otp', { email: formData.email });\r\n      setOtpSent(true);\r\n      setMessage(\"OTP sent to your email.\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"Failed to send OTP.\");\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      if (isLogin) {\r\n        // LOGIN\r\n        const res = await api.post('/login', {\r\n          email: formData.email,\r\n          otp: formData.otp\r\n        });\r\n        setMessage(res.data.message || \"Login successful\");\r\n      } else {\r\n        // SIGNUP\r\n        const res = await api.post('/signup', {\r\n          name: formData.name,\r\n          email: formData.email,\r\n          otp: formData.otp,\r\n          qualification: formData.qualification,\r\n          role: formData.role,\r\n          company: formData.company\r\n        });\r\n        setMessage(res.data.message || \"Signup successful\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"Error: \" + err?.response?.data?.message || \"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"bg-white p-6 rounded shadow-md space-y-4 w-full max-w-md mx-auto\">\r\n      <h2 className=\"text-xl font-bold\">{isLogin ? \"Login\" : \"Signup\"} Form</h2>\r\n\r\n      {!isLogin && (\r\n        <>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Full Name\"\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full border p-2\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"qualification\"\r\n            placeholder=\"Qualification\"\r\n            onChange={handleChange}\r\n            className=\"w-full border p-2\"\r\n          />\r\n          <select\r\n            name=\"role\"\r\n            onChange={handleChange}\r\n            className=\"w-full border p-2\"\r\n          >\r\n            <option value=\"student\">Student</option>\r\n            <option value=\"employer\">Employer</option>\r\n          </select>\r\n\r\n          {formData.role === \"employer\" && (\r\n            <input\r\n              type=\"text\"\r\n              name=\"company\"\r\n              placeholder=\"Company Name\"\r\n              onChange={handleChange}\r\n              className=\"w-full border p-2\"\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        placeholder=\"Email\"\r\n        onChange={handleChange}\r\n        required\r\n        className=\"w-full border p-2\"\r\n      />\r\n\r\n      {!otpSent ? (\r\n        <button\r\n          type=\"button\"\r\n          onClick={sendOtp}\r\n          className=\"bg-blue-500 text-white py-2 px-4 rounded w-full\"\r\n        >\r\n          Send OTP\r\n        </button>\r\n      ) : (\r\n        <>\r\n          <input\r\n            type=\"text\"\r\n            name=\"otp\"\r\n            placeholder=\"Enter OTP\"\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full border p-2\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-green-600 text-white py-2 px-4 rounded w-full\"\r\n          >\r\n            {isLogin ? \"Login\" : \"Signup\"}\r\n          </button>\r\n        </>\r\n      )}\r\n\r\n      {message && <p className=\"text-sm text-center text-gray-700 mt-2\">{message}</p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,GAAG,KAAM,QAAQ,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEzB,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CACvCa,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,GAAG,CAAE,EAAE,CACPC,aAAa,CAAE,EAAE,CACjBC,IAAI,CAAE,SAAS,CAAE;AACjBC,OAAO,CAAE,EACX,CAAC,CAAC,CAEF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAuB,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEX,IAAI,CAAEY,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChCd,WAAW,CAACe,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAE,CAACd,IAAI,EAAGY,KAAM,CAAC,CAAC,CAAC,CACnD,CAAC,CAED,KAAM,CAAAG,OAAO,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACF,KAAM,CAAA3B,GAAG,CAAC4B,IAAI,CAAC,WAAW,CAAE,CAAEf,KAAK,CAAEH,QAAQ,CAACG,KAAM,CAAC,CAAC,CACtDM,UAAU,CAAC,IAAI,CAAC,CAChBE,UAAU,CAAC,yBAAyB,CAAC,CACvC,CAAE,MAAOQ,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAClBR,UAAU,CAAC,qBAAqB,CAAC,CACnC,CACF,CAAC,CAED,KAAM,CAAAW,YAAY,CAAG,KAAO,CAAAT,CAAC,EAAK,CAChCA,CAAC,CAACU,cAAc,CAAC,CAAC,CAElB,GAAI,CACF,GAAIxB,OAAO,CAAE,CACX;AACA,KAAM,CAAAyB,GAAG,CAAG,KAAM,CAAAlC,GAAG,CAAC4B,IAAI,CAAC,QAAQ,CAAE,CACnCf,KAAK,CAAEH,QAAQ,CAACG,KAAK,CACrBC,GAAG,CAAEJ,QAAQ,CAACI,GAChB,CAAC,CAAC,CACFO,UAAU,CAACa,GAAG,CAACC,IAAI,CAACf,OAAO,EAAI,kBAAkB,CAAC,CACpD,CAAC,IAAM,CACL;AACA,KAAM,CAAAc,GAAG,CAAG,KAAM,CAAAlC,GAAG,CAAC4B,IAAI,CAAC,SAAS,CAAE,CACpChB,IAAI,CAAEF,QAAQ,CAACE,IAAI,CACnBC,KAAK,CAAEH,QAAQ,CAACG,KAAK,CACrBC,GAAG,CAAEJ,QAAQ,CAACI,GAAG,CACjBC,aAAa,CAAEL,QAAQ,CAACK,aAAa,CACrCC,IAAI,CAAEN,QAAQ,CAACM,IAAI,CACnBC,OAAO,CAAEP,QAAQ,CAACO,OACpB,CAAC,CAAC,CACFI,UAAU,CAACa,GAAG,CAACC,IAAI,CAACf,OAAO,EAAI,mBAAmB,CAAC,CACrD,CACF,CAAE,MAAOS,GAAG,CAAE,KAAAO,aAAA,CAAAC,kBAAA,CACZP,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAClBR,UAAU,CAAC,SAAS,EAAGQ,GAAG,SAAHA,GAAG,kBAAAO,aAAA,CAAHP,GAAG,CAAES,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAbD,aAAA,CAAeD,IAAI,UAAAE,kBAAA,iBAAnBA,kBAAA,CAAqBjB,OAAO,GAAI,sBAAsB,CAAC,CAChF,CACF,CAAC,CAED,mBACElB,KAAA,SAAMqC,QAAQ,CAAEP,YAAa,CAACQ,SAAS,CAAC,kEAAkE,CAAAC,QAAA,eACxGvC,KAAA,OAAIsC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAEhC,OAAO,CAAG,OAAO,CAAG,QAAQ,CAAC,OAAK,EAAI,CAAC,CAEzE,CAACA,OAAO,eACPP,KAAA,CAAAI,SAAA,EAAAmC,QAAA,eACErC,IAAA,UACEsC,IAAI,CAAC,MAAM,CACX9B,IAAI,CAAC,MAAM,CACX+B,WAAW,CAAC,WAAW,CACvBC,QAAQ,CAAEtB,YAAa,CACvBuB,QAAQ,MACRL,SAAS,CAAC,mBAAmB,CAC9B,CAAC,cACFpC,IAAA,UACEsC,IAAI,CAAC,MAAM,CACX9B,IAAI,CAAC,eAAe,CACpB+B,WAAW,CAAC,eAAe,CAC3BC,QAAQ,CAAEtB,YAAa,CACvBkB,SAAS,CAAC,mBAAmB,CAC9B,CAAC,cACFtC,KAAA,WACEU,IAAI,CAAC,MAAM,CACXgC,QAAQ,CAAEtB,YAAa,CACvBkB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAE7BrC,IAAA,WAAQoB,KAAK,CAAC,SAAS,CAAAiB,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCrC,IAAA,WAAQoB,KAAK,CAAC,UAAU,CAAAiB,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACpC,CAAC,CAER/B,QAAQ,CAACM,IAAI,GAAK,UAAU,eAC3BZ,IAAA,UACEsC,IAAI,CAAC,MAAM,CACX9B,IAAI,CAAC,SAAS,CACd+B,WAAW,CAAC,cAAc,CAC1BC,QAAQ,CAAEtB,YAAa,CACvBkB,SAAS,CAAC,mBAAmB,CAC9B,CACF,EACD,CACH,cAEDpC,IAAA,UACEsC,IAAI,CAAC,OAAO,CACZ9B,IAAI,CAAC,OAAO,CACZ+B,WAAW,CAAC,OAAO,CACnBC,QAAQ,CAAEtB,YAAa,CACvBuB,QAAQ,MACRL,SAAS,CAAC,mBAAmB,CAC9B,CAAC,CAED,CAACtB,OAAO,cACPd,IAAA,WACEsC,IAAI,CAAC,QAAQ,CACbI,OAAO,CAAEnB,OAAQ,CACjBa,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAC5D,UAED,CAAQ,CAAC,cAETvC,KAAA,CAAAI,SAAA,EAAAmC,QAAA,eACErC,IAAA,UACEsC,IAAI,CAAC,MAAM,CACX9B,IAAI,CAAC,KAAK,CACV+B,WAAW,CAAC,WAAW,CACvBC,QAAQ,CAAEtB,YAAa,CACvBuB,QAAQ,MACRL,SAAS,CAAC,mBAAmB,CAC9B,CAAC,cACFpC,IAAA,WACEsC,IAAI,CAAC,QAAQ,CACbF,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAE3DhC,OAAO,CAAG,OAAO,CAAG,QAAQ,CACvB,CAAC,EACT,CACH,CAEAW,OAAO,eAAIhB,IAAA,MAAGoC,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAErB,OAAO,CAAI,CAAC,EAC3E,CAAC,CAEX,CAAC,CAED,cAAe,CAAAb,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}